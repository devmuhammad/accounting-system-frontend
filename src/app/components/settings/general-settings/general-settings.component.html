<div class="fullview" fxLayout="row" >
    
<div class="section">
    <mat-accordion >
    <mat-expansion-panel expanded="true">
        <mat-expansion-panel-header>
            <mat-panel-title>
                <strong>Business Profile</strong>
            </mat-panel-title>
            <mat-panel-description class="header-desc">
                Setup organization profile
            <mat-icon>business_center</mat-icon>
            </mat-panel-description>
        </mat-expansion-panel-header>
              
        <ng-template matExpansionPanelContent>
            
                 <form id="busInfo" [formGroup]="busInfo" class="busform" (ngSubmit)="onBusInfoSubmit(busInfo.value)"> 
                        <div class="full-width">
                                <div class="full-width" fxLayout="row" >
                                        <div class="indvfield">
                                <mat-form-field class="qtr-width">  
                                        <input matInput formControlName="BusinessName" placeholder="Business Name">  
                                    </mat-form-field>  
                                <mat-error>  
                                        <span class="errtxt" *ngIf="!busInfo.get('BusinessName').valid && busInfo.get('BusinessName').touched">Please enter business name !!!</span>  
                                </mat-error> 
                              </div>
                              <div class="indvfield">
                                    <mat-form-field class="full-width"> 
                                            <input formControlName="Website" matInput placeholder="Website"> 
                                        </mat-form-field>  
                                        <!-- <mat-error >  
                                            <span class="errtxt" *ngIf="!busInfo.get('Website').valid && busInfo.get('Website').touched">Please enter Contact Email !!!</span>  
                                        </mat-error> -->
                              </div>
                              </div>
    
                                
                                <div class="full-width" fxLayout="row" >
                                        <div class="indvfield">
                                        <mat-form-field class="qtr-width"> 
                                            <input formControlName="ContactNo" type="tel" matInput placeholder="Contact Number"> 
                                        </mat-form-field>  
                                        <mat-error>  
                                            <span class="errtxt" *ngIf="!busInfo.get('ContactNo').valid && busInfo.get('ContactNo').touched">Please enter contact number !!!</span>  
                                        </mat-error>
                                    </div> 
                                    <div class="indvfield">
                                        <mat-form-field class="full-width"> 
                                            <input formControlName="ContactEmail" matInput placeholder="Contact Email"> 
                                        </mat-form-field>  
                                        <mat-error >  
                                            <span class="errtxt" *ngIf="!busInfo.get('ContactEmail').valid && busInfo.get('ContactEmail').touched">Please enter contact email !!!</span>  
                                        </mat-error>
                                    </div> 
                                </div>  


                                <mat-form-field>
                                    <textarea matInput formControlName="Address" placeholder="Address"></textarea>
                                </mat-form-field>
                                <mat-error>  
                                    <span class="errtxt" *ngIf="!busInfo.get('Address').valid && busInfo.get('Address').touched">Please enter address !!!</span>  
                                </mat-error>

                                <!-- <mat-form-field class="full-width"> -->
                                <div fxLayout="row">
                                <label for="singleFile" class="lbltxt mat-raised-button">Upload Logo* </label> &nbsp; &nbsp;
                                <input  id="singleFile" type="file" class="ng-hide" (change)="fileProgress($event)" />
                                <span *ngIf="fileName">{{fileName}}</span>
                                <!-- <br>
                            <mat-file-upload-queue #fileUploadQueue
                                [fileAlias]="'file'"
                                [httpUrl]="'http://localhost:8180/jax-rs-jersey-application-sample'">
                            
                                <mat-file-upload [file]="file" [id]="i" *ngFor="let file of fileUploadQueue.files; let i = index"></mat-file-upload>
                            </mat-file-upload-queue> -->
                            </div>
                                <!-- <mat-form-field>
                                  <mat-select placeholder="Select">
                                    <mat-option value="option">Option</mat-option>
                                  </mat-select>
                                </mat-form-field> -->
                              </div>
                    
                </form>  
        </ng-template>
        <mat-action-row>
                <button mat-button color="primary" type="submit" form="busInfo" [disabled]="busInfo.invalid">Update</button>
            </mat-action-row>
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title color="primary">
                <strong>Bank Details</strong>
            </mat-panel-title>
            <mat-panel-description class="header-desc">
                Set bank Details
            <mat-icon>business</mat-icon>
            </mat-panel-description>
        </mat-expansion-panel-header>
              
        <ng-template matExpansionPanelContent>
                <form id="bankInfo" [formGroup]="bankInfo" class="busform" (ngSubmit)="onBankInfoSubmit(bankInfo.value)"> 
                        <div class="full-width">
                                <div class="full-width" fxLayout="row" >
                                        <div class="indvfield">
                                <mat-form-field class="qtr-width">  
                                        <input matInput formControlName="AccountNo" type="number" placeholder="Account Number">  
                                    </mat-form-field>  
                                <mat-error>  
                                        <span class="errtxt" *ngIf="!bankInfo.get('AccountNo').valid && bankInfo.get('AccountNo').touched">Please enter account number !!!</span>  
                                </mat-error> 
                              </div>
                              <div class="indvfield">
                                    <mat-form-field class="full-width"> 
                                            <input formControlName="AccountName" matInput placeholder="Account Name"> 
                                        </mat-form-field>  
                                        <mat-error >  
                                            <span class="errtxt" *ngIf="!bankInfo.get('AccountName').valid && bankInfo.get('AccountName').touched">Please enter account name !!!</span>  
                                        </mat-error>
                              </div>
                              </div>
      
                                <div class="full-width" fxLayout="row" >
                                        <div class="indvfield">
                                                <mat-form-field class="qtr-width"> 
                                                    <input formControlName="Bvn" type="number" matInput placeholder="BVN"> 
                                                </mat-form-field> 
                                            <mat-error>  
                                                <span class="errtxt" *ngIf="!bankInfo.get('Bvn').valid && bankInfo.get('Bvn').touched">Please enter your BVN !!!</span>  
                                            </mat-error>
                                        </div> 
                                    <div class="indvfield">
                                        <mat-form-field class="full-width"> 
                                            <input formControlName="TinNo" type="number" matInput placeholder="TIN"> 
                                        </mat-form-field>  
                                        <mat-error >  
                                            <span class="errtxt" *ngIf="!bankInfo.get('TinNo').valid && bankInfo.get('TinNo').touched">Please enter TIN No !!!</span>  
                                        </mat-error>
                                    </div> 
                                </div>  

                                <div class="full-width" fxLayout="row">
                                        <div class="indvfield">
                                                <mat-form-field class="qtr-width">
                                                    <mat-select placeholder="Select bank">
                                                    <mat-option value="option">Option</mat-option>
                                                    </mat-select>
                                                </mat-form-field> 
                                                <mat-error>  
                                                    <span class="errtxt" *ngIf="!bankInfo.get('BankName').valid && bankInfo.get('BankName').touched">Please select a bank !!!</span>  
                                                </mat-error>
                                            </div> 
                                        
                                    <div class="indvfield">
                                        <mat-form-field class="full-width"> 
                                            <input formControlName="SortCode" matInput placeholder="Sort Code"> 
                                        </mat-form-field>  
                                        <mat-error >  
                                            <span class="errtxt" *ngIf="!bankInfo.get('SortCode').valid && bankInfo.get('SortCode').touched">Please enter TIN No !!!</span>  
                                        </mat-error>
                                    </div> 
                                </div>  

                                <mat-form-field>
                                        <textarea matInput formControlName="BankAddress" placeholder="Bank Address"></textarea>
                                    </mat-form-field>
                                    <mat-error>  
                                        <span class="errtxt" *ngIf="!bankInfo.get('BankAddress').valid && bankInfo.get('BankAddress').touched">Please enter bank address !!!</span>  
                                    </mat-error>
                                
                              </div>
                    
                </form> 
        </ng-template>
        <mat-action-row>
                <button mat-button color="primary" type="submit" form="bankInfo" [disabled]="bankInfo.invalid">Update</button>
        </mat-action-row>
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                <strong> Sub Organization </strong>
            </mat-panel-title>
            <mat-panel-description class="header-desc">
                Other business locations
            <mat-icon>location_on</mat-icon>
            </mat-panel-description>
        </mat-expansion-panel-header>
              
        <ng-template matExpansionPanelContent>
                <div class="mat-elevation-z8">
                        <table mat-table [dataSource]="dataSource">
                            
                        
                          <!-- Position Column -->
                          <ng-container matColumnDef="code">
                            <th mat-header-cell *matHeaderCellDef> Code </th>
                            <td mat-cell *matCellDef="let element"> {{element.code}} </td>
                          </ng-container>
                      
                          <!-- Name Column -->
                          <ng-container matColumnDef="description">
                            <th mat-header-cell *matHeaderCellDef> Description </th>
                            <td mat-cell *matCellDef="let element"> {{element.description}} </td>
                          </ng-container>
                      
                          <!-- Weight Column -->
                          <ng-container matColumnDef="type">
                            <th mat-header-cell *matHeaderCellDef> Org Type </th>
                            <td mat-cell *matCellDef="let element"> {{element.type}} </td>
                          </ng-container>
                      
                          <!-- Symbol Column -->
                          <!-- <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef> Action </th>
                            <td mat-cell *matCellDef="let element"> {{element.action}} </td>
                          </ng-container> -->
                          
                          <ng-container matColumnDef="action">
                                <th mat-header-cell *matHeaderCellDef>Actions</th>
                                <td mat-cell *matCellDef="let row" >
                                    <div class="tblview">
                                  <mat-icon (click)="addNewSubOrg('Update',row)" class="tblicon">edit
                                  </mat-icon> &nbsp; &nbsp;
                                  <mat-icon (click)="addNewSubOrg('Delete',row)" class="tblicon">delete
                                  </mat-icon>
                                </div>
                                </td>
                            </ng-container>

                          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        </table>
                      
                        <mat-paginator [length]="4" [pageIndex]="0" [pageSize]="4" [pageSizeOptions]="[2, 4, 6]" showFirstLastButtons></mat-paginator>
                      </div>
        </ng-template>
        <mat-action-row>
                <button mat-button color="primary" (click)="addNewSubOrg('Add',busInfo.value)" >Add New</button>
        </mat-action-row>
    </mat-expansion-panel>
    
    </mat-accordion>
</div>
<mat-divider [vertical]="true" [inset]="true"></mat-divider>
<div class="section">
        <mat-action-row style="margin-right:10px">
                <button mat-button color="primary" (click)="add" >Add {{mngType}}</button>
                <button mat-button   color="primary" [matMenuTriggerFor]="menu" >Manage <mat-icon matSuffix>keyboard_arrow_down</mat-icon></button>
                
                        <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="setBank()">Bank</button>
                        <button mat-menu-item (click)="setDept()">Department</button>
                        <button mat-menu-item (click)="setDes()">Designation</button>
                        <button mat-menu-item (click)="setPen()">Pension Provider</button>
                        </mat-menu>
        </mat-action-row>
        <div class="mat-elevation-z8">
                <table mat-table [dataSource]="dataSource">
                    
                
                  <!-- Position Column -->
                  <ng-container matColumnDef="code">
                    <th mat-header-cell *matHeaderCellDef> Code </th>
                    <td mat-cell *matCellDef="let element"> {{element.code}} </td>
                  </ng-container>
              
                  <!-- Name Column -->
                  <ng-container matColumnDef="description">
                    <th mat-header-cell *matHeaderCellDef> Description </th>
                    <td mat-cell *matCellDef="let element"> {{element.description}} </td>
                  </ng-container>
              
                  <!-- Weight Column -->
                  <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef> Org Type </th>
                    <td mat-cell *matCellDef="let element"> {{element.type}} </td>
                  </ng-container>
              
                  <!-- Symbol Column -->
                  <!-- <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef> Action </th>
                    <td mat-cell *matCellDef="let element"> {{element.action}} </td>
                  </ng-container> -->
                  
                  <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef>Actions</th>
                        <td mat-cell *matCellDef="let row" >
                            <div class="tblview">
                          <mat-icon (click)="addNewSubOrg('Update',row)" class="tblicon">edit
                          </mat-icon> &nbsp; &nbsp;
                          <mat-icon (click)="addNewSubOrg('Delete',row)" class="tblicon">delete
                          </mat-icon>
                        </div>
                        </td>
                    </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
              
                <mat-paginator [length]="4" [pageIndex]="0" [pageSize]="4" [pageSizeOptions]="[2, 4, 6]" showFirstLastButtons></mat-paginator>
              </div>
    <!-- <p>hehrhhe</p>
    <p>hehrhhe</p>
    <p>hehrhhe</p> -->

</div>

</div>